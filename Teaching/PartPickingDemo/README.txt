This is code I originally wrote late at night for a class, to demonstrate template-based particle picking. It uses a 3D template from which projections are computed, and it also makes decoy templates (discs and half-discs) to capture edges and ice blobs. The code was refined and expanded with time, and version 5_1 is the latest. All but the first version consist of a Preprocessor which does the cross-correlations, and a Runner which does the picking interactively. Both of these are Matlab scripts, in which the filenames and parameters are assigned at the top of the file. Version 5_2 uses the EMD7009 map (acid-sensing ion channel trimer) as a template.
The Runner waits for single keystrokes, for example to step through the micrographs ("n" and "p" for next and previous) and changes the thresholds for the decoy particle search ("u", "d" raise and lower the threshold) and the true particle search ("j", "k" reject or keep more particles). Note that it uses a function MyBusyread to read all the keystrokes; the function is the same as Matlab's ginput() except that it does not wait for a keystroke or mouse click, which is useful for the "Robopicking" where the program continues through all the micrographs automatically. MyBusyRead might break with new versions of Matlab.

