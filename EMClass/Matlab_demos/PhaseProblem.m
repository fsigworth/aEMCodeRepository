% Lattice.m%% demonstrate the FT of a lattice and convolution with an object.figure(2);% set(gcf,'menubar','none');set(gcf,'color',[0.3 0.3 0.3]);n=150;n1=50;nr=2;nc=2;  % number of rows, columns in figure.sm=double(imread('smiley.tiff'));sm=(255-sm')/255;sz=size(sm);ns=min(sz);  % smallest dimension of objectfigure(2); clf;set(gcf,'color',[0.3 0.3 0.3]);SetComplex;subplot(nr,nc,1);% objectrm=zeros(n,n);ctr=n/2+1;rm(ctr-ns/2:ctr+ns/2-1,ctr-ns/2:ctr+ns/2-1)=sm(1:ns,ns:-1:1);rm=rm-mean(mean(rm));% rm=GaussFilt2(rm,0.2);% FT of objectfm=fft2(fftshift(rm));subplot(nr,nc,1);sp=abs(fftshift(fm));imacs(sqrt(sp));% Pattersonpm=real(ifft2(abs(fm)));subplot(nr,nc,2);imacs(fftshift(sqrt(abs(pm))));subplot(nr,nc,3);imacx(fftshift(fm),0.5);drawnow;subplot(nr,nc,4);imacs(rm);